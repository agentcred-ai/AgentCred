# AgentCred: A Friendly Guide

Welcome! If you've ever felt a bit uneasy about the rise of AI agents‚Äîthose helpful little programs that can write code, book flights, or summarize your emails‚Äîyou're in the right place. AgentCred is here to bring a sense of trust and accountability to the world of AI.

This guide is designed for everyone. Whether you're a seasoned developer or someone who just heard about "AI agents" yesterday, we'll walk you through what AgentCred is, why it matters, and how you can start using it in just a few minutes.

---

## Table of Contents

1. [Why Does AgentCred Exist?](#why-does-agentcred-exist)
2. [Core Concepts (Explained Simply)](#core-concepts-explained-simply)
3. [Getting Started](#getting-started)
   - [Prerequisites](#prerequisites)
   - [Option 1: Using the SDK (For Developers)](#option-1-using-the-sdk-for-developers)
   - [Option 2: Using the CLI (For Quick Testing)](#option-2-using-the-cli-for-quick-testing)
   - [Option 3: Using the MCP Server (For AI Platforms)](#option-3-using-the-mcp-server-for-ai-agent-platforms)
4. [How It Works Under the Hood](#how-it-works-under-the-hood)
5. [Frequently Asked Questions](#frequently-asked-questions)
6. [Troubleshooting](#troubleshooting)
7. [What's Next?](#whats-next)

---

## Why Does AgentCred Exist?

### The Problem: AI Agents are Everywhere, but Anonymous

Imagine you're walking through a busy city where everyone is wearing a high-tech mask. These people are incredibly helpful‚Äîthey can give you directions, carry your groceries, and even offer medical advice. But because of the masks, you have no idea who they actually are. If one of them gives you bad advice or makes a mistake, there's no way to know who was responsible for that person's actions.

That‚Äôs exactly what‚Äôs happening on the internet today with AI agents. We see text, code, and decisions generated by AI, but we often don't know *who* is behind that AI. Was it created by a trusted developer? A reputable company? Or someone with bad intentions? Without a way to verify the human behind the agent, it's hard to truly trust what the agent produces.

### What AgentCred Does: The "Name Tag" for AI

AgentCred solves this by giving every AI agent a verifiable "name tag." 

When an agent performs an action or generates content, AgentCred allows the human creator to "sign" that output. This signature isn't just a simple text label; it's a cryptographic proof that links the agent's work directly to a real, verified human identity.

### Why GitHub?

We chose GitHub as our primary identity provider because it's the home of modern software development. Most developers already have a GitHub account, and it's a platform built on trust and collaboration. By linking AgentCred to your GitHub profile, you're using an identity you already own and that others already recognize.

üí° **Tip:** Think of AgentCred as the "Blue Checkmark" for AI, but instead of being controlled by one company, it's powered by mathematics and open standards.

---

## Core Concepts (Explained Simply)

Before we jump into the code, let's look at the five main pillars of AgentCred using simple analogies.

### 1. Identity: Your Digital Passport
In the physical world, your passport proves who you are using a government-issued document. In AgentCred, your **Identity** is a combination of your GitHub account and a special "cryptographic keypair" (a public key and a private key). 
- The **Public Key** is like your username; everyone can see it.
- The **Private Key** is like your secret password; you must keep it safe and never share it.

### 2. Signing: The Wax Seal
Imagine you're sending a very important letter in the middle ages. To prove it hasn't been tampered with and that it really came from you, you drop a bit of hot wax on the envelope and press your ring into it. This is **Signing**. When your agent "signs" content, it uses your private key to create a unique digital stamp that only you could have made.

### 3. Envelope: The Notarized Package
Once content is signed, it gets put into an **Envelope**. This isn't just the message itself; it's a package that contains the original content *plus* the cryptographic proof (the signature). It‚Äôs like a sealed envelope that has been stamped by a notary public.

### 4. Verification: The Authenticity Check
When someone receives your agent's signed content, they need to make sure it's real. **Verification** is the process of checking the "wax seal" against your public "passport." If the seal matches, they know for a fact that the content was created by your agent and hasn't been changed since it was signed.

### 5. Badge: The Visual Proof
Finally, the **Badge** is what the end-user sees. It's the green "Verified" icon that tells them, "Yes, you can trust this content because Alice (the human) is standing behind it."

---

## Getting Started

Ready to give your agent a voice that people can trust? Let's get set up.

### Prerequisites

To follow this guide, you'll need a few things:
- **Node.js 18+**: You can check your version by typing `node -v` in your terminal.
- **A GitHub Account**: If you don't have one, head over to [github.com](https://github.com) to sign up.
- **A GitHub Personal Access Token (PAT)** *(optional)*: Only needed for SDK usage or headless environments. CLI defaults to OAuth device flow, so you can skip a token if you want.

**How to create your GitHub Token (optional):**
1. Go to your [GitHub Token Settings](https://github.com/settings/tokens/new).
2. Give your token a name like "AgentCred Guide".
3. Under "Select scopes," you only need to check **`read:user`**. This allows AgentCred to see your username and avatar.
4. Scroll to the bottom and click **"Generate token"**.
5. **Copy the token immediately!** You won't be able to see it again.

---

### Option 1: Using the SDK (For Developers)

If you're building an AI agent and want to integrate AgentCred directly into your code, the SDK is the way to go.

#### Step 1: Install
Open your terminal in your project folder and run:

```bash
npm install agentcred
```

This downloads the AgentCred library and all its helpers into your project.

#### Step 2: Create Your Identity
First, you need to create your digital passport.

```javascript
import { createIdentity, loadIdentity } from 'agentcred';

const myGithubToken = 'your_github_token_here';

async function setup() {
  const identity = await createIdentity(myGithubToken);
  const loaded = await loadIdentity(identity.github.username);
  if (!loaded) throw new Error('Identity not found. Run createIdentity first.');
  console.log("Identity created for:", identity.github.username);
}

setup();
```

**What just happened?**
When you call `createIdentity`, AgentCred does four things:
1. It talks to GitHub to make sure your token is valid.
2. It generates a "keypair" (your public and private keys) on your computer.
3. It registers your public key so the world knows it belongs to you.
4. It stores your private key in local storage so you can load it later.

#### Step 3: Sign Content
Now, let's have your agent sign a message.

```javascript
import { sign } from 'agentcred';

const content = "The weather in Paris is 15¬∞C and sunny.";
const identity = { /* The identity you created in Step 2 */ };
const loaded = { /* The loaded identity with private key */ };

async function runAgent() {
  const envelope = await sign(content, {
    privateKey: loaded.privateKey,
    github: identity.github.username
  }, { agent: 'WeatherBot' });

  console.log(JSON.stringify(envelope, null, 2));
}

runAgent();
```

**What does the "Envelope" look like?**
The output will look something like this JSON object:

```json
{
  "agentcred": {
    "v": "1.0",
    "jws": "eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsicGF5bG9hZCJdfQ...",
    "github": "alice",
    "agent": "WeatherBot"
  },
  "content": "The weather in Paris is 15¬∞C and sunny."
}
```

- `v`: The version of AgentCred.
- `jws`: This long string of gibberish is the actual "wax seal" (cryptographic signature).
- `github`: Your username, so people know who signed it.
- `agent`: The name you gave your agent.

#### Step 4: Verify Content
Finally, anyone can verify that the message is authentic.

```javascript
import { verify } from 'agentcred';

async function checkMessage(envelope) {
  const result = await verify(envelope);
  
  if (result.verified) {
    console.log(`‚úÖ Verified! Signed by ${result.github.username}'s agent: ${result.agent}`);
  } else {
    console.log("‚ùå Warning: This message could not be verified!");
  }
}
```

**What does `verified: true` mean?**
It means the mathematics checked out! The signature matches the content, and the public key used to sign it is officially linked to the GitHub user `alice`.

#### Complete Working Example
Here is a single script you can copy, paste into a file named `test.js`, and run with `node test.js`.

```javascript
const { createIdentity, loadIdentity, sign, verify } = require('agentcred');

async function main() {
  const token = 'YOUR_GITHUB_TOKEN'; // Put your token here!
  
  // 1. Setup Identity
  console.log("Creating identity...");
  const identity = await createIdentity(token);
  const loaded = await loadIdentity(identity.github.username);
  if (!loaded) throw new Error('Identity not found. Run createIdentity first.');

  // 2. Sign some content
  console.log("Signing content...");
  const message = "Hello, I am a verified AI agent!";
  const envelope = await sign(message, {
    privateKey: loaded.privateKey,
    github: identity.github.username
  }, { agent: 'TutorialBot' });

  // 3. Verify it
  console.log("Verifying content...");
  const result = await verify(envelope);
  
  console.log("Result:", result);
}

main().catch(console.error);
```

---

### Option 2: Using the CLI (For Quick Testing)

Don't want to write code? You can use AgentCred directly from your command line.

#### Install and Initialize
Run this once to set up your identity:

```bash
npx @agentcred-ai/cli init

# Optional: skip OAuth device flow
npx @agentcred-ai/cli init --token <your-github-token>
```

#### Sign a File
You can sign any text or file. Here's how to sign a simple sentence:

```bash
echo "Hello from my agent" | npx @agentcred-ai/cli sign --agent my-bot > envelope.json
```

#### Verify
To check if a signed file is legitimate:

```bash
npx @agentcred-ai/cli verify < envelope.json
```

#### Check Your Identity
If you ever forget who you're signed in as:

```bash
npx @agentcred-ai/cli whoami
```

---

### Option 3: Using the MCP Server (For AI Agent Platforms)

#### What is MCP?
MCP stands for **Model Context Protocol**. Think of it as a universal translator that allows AI assistants (like Claude) to talk to external tools (like AgentCred).

#### Setup in Claude Desktop
If you use the Claude Desktop app, you can give Claude the ability to sign and verify things for you. 

1. Open your Claude Desktop configuration file (usually found in `~/Library/Application Support/Claude/claude_desktop_config.json` on Mac or `%APPDATA%\Claude\claude_desktop_config.json` on Windows).
2. Add AgentCred to the `mcpServers` list:

```json
{
  "mcpServers": {
    "agentcred": {
      "command": "npx",
      "args": ["-y", "@agentcred-ai/mcp-server"],
      "env": {
        "GITHUB_TOKEN": "ghp_your_token"
      }
    }
  }
}
```

3. Restart Claude. You'll now see new tools available: `agentcred_init`, `agentcred_sign`, `agentcred_verify`, and `agentcred_whoami`.

Now you can simply ask Claude: *"Hey Claude, can you sign this message for me using AgentCred?"*

---

## How It Works Under the Hood

You don't need to be a math genius to use AgentCred, but here‚Äôs a quick peek at the engine under the hood.

1. **Human creates a key**: Your computer generates a unique pair of "keys" (long strings of numbers).
2. **GitHub links them**: AgentCred tells the world, "The person owning GitHub account @alice owns Public Key X."
3. **Agent signs**: When your agent creates a message, it uses your Private Key to create a mathematical proof (the signature).
4. **Anyone verifies**: A recipient takes the message, the signature, and Alice's Public Key. If the math balances out, the message is authentic.

**The Tech Stack:**
- **Ed25519**: This is the type of high-speed, secure cryptography we use. It's the same tech that keeps billions of internet connections safe every day.
- **JWS (JSON Web Signature)**: This is the standard format we use to package the signature so that different apps can understand it.

‚ö†Ô∏è **Note:** AgentCred handles all this complex math for you. You just focus on building great agents!

---

## Frequently Asked Questions

**Q: Do I need to understand cryptography?**
A: Absolutely not. We've built AgentCred so that you only need to call simple functions like `sign()` and `verify()`. The math happens silently in the background.

**Q: Is my GitHub password involved?**
A: No. We never ask for your GitHub password. You authenticate via OAuth device flow or a Personal Access Token (PAT), both of which you can revoke at any time.

**Q: Can I use this without GitHub?**
A: Not right now. AgentCred currently supports GitHub identity only.

**Q: What if someone steals my private key?**
A: This is important: your private key is like the key to your house. If someone steals it, they can "sign" things as if they were you. Keep your computer secure, and never share your `.agentcred` folder with anyone.

**Q: Does this work in the browser?**
A: You can **verify** signatures anywhere (including the browser). However, **signing** currently requires Node.js because that's where your private keys are safely stored.

**Q: Is this free?**
A: Yes! AgentCred is 100% open source (MIT licensed) and free to use.

**Q: How is this different from a social media blue badge?**
A: Social media badges are controlled by a single company. If that company changes its mind, your badge might disappear. AgentCred is built on open standards and math‚Äîonce you sign something, that proof exists independently of any single company.

---

## Troubleshooting

Sometimes things don't go perfectly. Here are the most common issues:

- **"GitHub authentication failed"**
  - Check your token. Did you copy the whole thing?
  - Make sure your token hasn't expired.
  - Ensure you checked the `read:user` box when creating it.

- **"No identity found"**
  - You need to run the initialization step first! If you're using the CLI, run `agentcred init`. If you're using the SDK, run `createIdentity`.

- **"Content hash mismatch"**
  - This means the content was changed after it was signed. Even changing a single comma or adding a space will cause this error. This is a feature, not a bug‚Äîit protects you from people tampering with your agent's words!

- **"Timestamp outside valid window"**
  - By default, signatures are considered "fresh" for 24 hours. If you're trying to verify a very old signature, you might see this. This window is currently fixed.

---

## What's Next?

You're now an AgentCred pro! Here are some places to go from here:

- **[README.md](../README.md)**: For a quick technical reference of all API calls and parameters.
- **[GitHub Issues](https://github.com/agentcred-ai/agentcred/issues)**: Have a question or found a bug? Come talk to us!

Thank you for being part of the journey to a more transparent and accountable AI world. Now go out there and build something amazing‚Äîand don't forget to sign it!
